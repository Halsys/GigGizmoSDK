!function(e,t){for(var i in t)e[i]=t[i]}(this,function(e){var t={};function i(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=19)}([function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(16));class a{constructor(e){if(this.expiration=(new Date).getTime()+36e5,this.changes=new Object,this.document=new Object,this.document=new Object,this.changes=new Object,"string"==typeof e)try{const t=JSON.parse(e);null!==t&&void 0!==t.ModelName&&delete t.ModelName,Object.assign(this.document,t)}catch(t){console.log(e),console.error(t)}else e&&("object"==typeof e.document&&e.document&&Object.assign(this.document,e.document),"object"==typeof e.changes&&e.changes?Object.assign(this.changes,e.changes):Object.assign(this.document,e))}get dateCreated(){const e=this.document.dateCreated||null;return e?new Date(e):e}get dateModified(){const e=this.getField("dateModified")||null;return e?new Date(e):e}set dateModified(e){this.changes.dateModified=e?e.toJSON():null}get id(){return this.getField("_id")}set id(e){this.setField("_id",e)}get _id(){return this.getField("_id")}set _id(e){this.setField("_id",e)}static CacheGet(e){if("string"==typeof e&&a.Cache.has(e)){const t=a.Cache.get(e);if(t&&new Date(t.expiration)<new Date)return t}return null}static CacheSet(e){return a.isValidId(e._id)?(a.Cache.set(e._id,e),e):e}static CacheRemove(e){a.Cache.delete(e)}static async deduceModelAndName(e){if(null===e)throw new Error("Model Name or Model Missing");let t=null,i=null;if("string"==typeof e)t=await n.default(e),i=e;else{if("function"!=typeof e)throw new Error(`Invalid first agument, expected string or function, got ${e}`);t=e,i=a.getModelName(e)}if("string"!=typeof i)throw new Error(`Missing model name from ${t}`);if("function"!=typeof t)throw new Error(`Model name (${i}) did not map to constructor`);return{Model:t,modelName:i}}static isValidId(e){const t=RegExp("^([0-9a-fA-F]{24}|[0-9a-fA-F]{12})$","g");return"string"==typeof e&&t.test(e)}static getModelName(e){return e&&e.ModelName?e.ModelName:e.constructor&&e.constructor.ModelName?e.constructor.ModelName:""}static async findByIdBase(e,t,i){if(a.isValidId(t)){const s=a.CacheGet(t);if(s)return s;{let s=null;const{Model:n,modelName:o}=await a.deduceModelAndName(e);if(r.default.useSocketIO&&r.default.ShouldUseSocketIO&&i&&(s=await new Promise((e,i)=>r.default.getSocket().then(i=>{i&&i.emit(`/API/${o}/Retreive`,t,e)},i))),s||(s=await r.default.call("GET",`/API/${o}/${t}`,null)),s&&a.isValidId(s._id))return s=new n(s),a.Cache.set(s._id,s),s}}return null}static async findOneBase(e,t={},i){if(null===t&&(t={}),1===Array.from(Object.keys(t)).length&&"string"==typeof t._id){const e=t._id,i=a.CacheGet(e);if(i)return i}let s=null;const{Model:n,modelName:o}=await a.deduceModelAndName(e),d=`/API/${o}/FindOne`;if(r.default.useSocketIO&&r.default.ShouldUseSocketIO&&i){const e=await r.default.getSocket();e&&(s=await new Promise((i,s)=>{try{e.emit(d,t,i)}catch(e){s(e)}}))}return s||(s=await r.default.call("GET",d,t)),s&&a.isValidId(s._id)?(s=new n(s),a.CacheSet(s),s):null}static async findManyBase(e,t={},i){if(null===t&&(t={}),1===Array.from(Object.keys(t)).length&&Array.isArray(t._id||t.id)){const e=[];if((t._id||t.id).forEach(t=>{const i=a.CacheGet(t);i&&e.push(i)}),e.length===(t._id||t.id))return e}let s=null;const{Model:n,modelName:o}=await a.deduceModelAndName(e),d=`/API/${o}/FindMany`;return r.default.useSocketIO&&r.default.ShouldUseSocketIO&&i&&(s=await new Promise((e,i)=>r.default.getSocket().then(i=>{i&&i.emit(d,t,e)},i))),t=t||{},s||(s=await r.default.call("GET",d,t)),Array.isArray(s)?s.map(e=>{const t=new n(e);return a.CacheSet(t),t}):[]}setField(e,t){if(this){(this.getField(e)||void 0)!==t&&(this.changes[e]=t,this.dateModified=new Date)}}getField(e){if(this){let t=this.changes[e];if(void 0!==t)return t;if(void 0!==(t=this.document[e]))return t}return null}toObject(){const e=this.valid()?Object.assign({},this.changes,this.document):null;return"object"==typeof e&&e&&(void 0!==e.id&&delete e.id,void 0!==e._id&&(e._id=e._id.toString()?e._id:null)),e}toString(){const e=this.toObject();return JSON.stringify(e)}valid(){if(!a.isValidId(this.id))throw new Error(`Invalid id: ${this.id}`);if(!this.dateModified)throw new Error(`Invalid dateModified: ${this.dateModified}`);if(!this.dateCreated)throw new Error(`Invalid dateCreated: ${this.dateCreated}`);return!0}isValid(){return!!a.isValidId(this.id)&&(!!this.dateModified&&!!this.dateCreated)}assign(e={}){return Object.assign(this.changes,e),this}async save(e){const t=this.constructor.ModelName;let i=null;const s=this.document._id||null,n=this.changes;if(Object.keys(this.changes).forEach(e=>{n[e]===this.document[e]&&delete n[e]}),n.id=this.changes._id||this.document._id||null,(i=r.default.useSocketIO&&r.default.ShouldUseSocketIO&&e?a.isValidId(s)?await new Promise((e,i)=>r.default.getSocket().then(i=>{i&&i.emit(`/API/${t}/Update`,n,e)},i)):await new Promise((e,i)=>r.default.getSocket().then(i=>{i&&i.emit(`/API/${t}/Create`,n,e)},i)):a.isValidId(s)?await r.default.call("PUT",`/API/${t}/${s}`,n):await r.default.call("POST",`/API/${t}/`,n))&&i._id)return this.document=i,this.changes={},a.CacheSet(this),this;throw new Error(`returned ${i}`)}async remove(e){const t=this._id||"";if(a.isValidId(t)){let i=null;const s=this.constructor.ModelName;return i=r.default.useSocketIO&&r.default.ShouldUseSocketIO&&e?await new Promise((e,i)=>r.default.getSocket().then(i=>{i&&i.emit(`/API/${s}/Delete`,t,t=>e(t))},i)):await r.default.call("DELETE",`/API/${s}/${t}`,null),a.CacheRemove(t),this}throw new Error(`Invalid id: ${t}`)}}a.ModelName="RESTModel",a.Cache=new Map,t.default=a},function(e,t,i){e.exports=i(22)()},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(36)),a=i(37),o=r(i(38));class d{constructor(){throw new Error("Cannot instantiate.")}static get expires(){if(!d._expires&&d.LocalStorageSupported){const e=localStorage.getItem("expires")||null;d._expires=new Date(e)}return d._expires}static set expires(e){let t=null;if("string"==typeof e||"number"==typeof e?t=new Date(e):e instanceof Date&&(t=e),null===t)throw new Error(`value for date expires is invalid, expected string, number, or date. Got: ${e}`);d._expires=t,d.LocalStorageSupported&&localStorage.setItem("expires",d._expires.toISOString())}static get token(){const e=new Date;return d.expires&&e>d.expires?(d._token=null,d.LocalStorageSupported&&localStorage.removeItem("token"),null):(!d._token&&d.LocalStorageSupported&&(d._token=JSON.parse(localStorage.getItem("token")||"")),!d._token&&"undefined"!=typeof document&&document.cookie&&(d._token=a.parse(document.cookie)["gig-gizmo-token"]),d._token&&d.LocalStorageSupported&&localStorage.setItem("token",JSON.stringify(d._token)),d._token)}static set token(e){if("string"==typeof e&&124!==e.length&&null!==e)throw new Error(`Token is not valid: ${e}`);"string"==typeof e&&0!==e.length?(d.LocalStorageSupported&&localStorage.setItem("token",JSON.stringify(e)),d._token=e):(d.LocalStorageSupported&&localStorage.removeItem("token"),d._token=null),"undefined"!=typeof document&&(document.cookie=a.serialize("gig-gizmo-token",d._token||"",{path:"/",sameSite:"strict"}))}static get rootURL(){let e="";return d.secure?e+="https://":e+="http://",e+=`${d.hostname}`,80===d.port||d.secure?443!==d.securePort&&d.secure&&(e+=`:${d.securePort}`):e+=`:${d.port}`,e}static get webSocketRootURL(){let e="";return d.secure?e+="wss://":e+="ws://",e+=`${d.hostname}`,80===d.port||d.secure?443!==d.securePort&&d.secure&&(e+=`:${d.securePort}`):e+=`:${d.port}`,e}static async call(e,t,i){const s={data:null,headers:{"x-gig-gizmo-token":d.token?d._token:null},method:e.toLowerCase(),params:null,responseType:"json",url:`${d.rootURL}${t}`,xsrfCookieName:"gig-gizmo-token",xsrfHeaderName:"x-gig-gizmo-token"};i&&("HEAD"===e||"GET"===e?s.params=i:s.data=i);const r=await d.axios(s);return r.data?r.data:r.statusText?r.statusText:r.status?null:void 0}static async getSocket(){const e=e=>{e&&console.error(e),d.webSocket&&d.webSocket.open()},t=()=>(d.webSocket||(d.webSocket=d.WebSocket.default(),d.webSocket.on("connect_timeout",e),d.webSocket.on("connect_error",e),d.webSocket.on("disconnect",e),d.webSocket.on("error",e),d.webSocket.open()),d.webSocket);if(d.WebSocket){if("undefined"==typeof document)return t();switch(document.readyState){case"loading":return await new Promise(e=>{document.addEventListener("DOMContentLoaded",e)}),t();case"interactive":case"complete":return t();default:throw new Error(`Unexpected readyState: ${document.readyState}`)}}return null}}d.WebSocket=o,d.axios=n.default,d.SessionStorageSupported="undefined"!=typeof Storage,d.LocalStorageSupported="undefined"!=typeof window&&void 0!==window.localStorage,d.ShouldUseSocketIO=!0,d.dev=!1,d.secure=!d.dev,d.port=80,d.securePort=443,d.hostname="giggizmo.com",d._token=null,d._expires=null,d.useSocketIO=!1,d.webSocket=null,t.default=d,void 0!==d.axios&&(d.axios.defaults.withCredentials=!0)},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(9)),a=s(i(11)),o=s(i(4)),d=s(i(5)),l=s(i(6)),u=s(i(13)),c=s(i(14)),f=s(i(15)),g=s(i(0)),h=s(i(7)),p=s(i(8)),m=s(i(10));class w extends g.default{get password(){return this.getField("password")}set password(e){this.setField("password",e)}get confirmPassword(){return this.getField("confirmPassword")}set confirmPassword(e){this.setField("confirmPassword",e)}get icon(){return this.getField("icon")}set icon(e){this.setField("icon",e)}set active(e){this.setField("active",e)}get active(){return this.getField("active")}set admin(e){this.setField("admin",e)}get admin(){return!0===this.getField("admin")}get firstName(){return this.getField("firstName")}set firstName(e){this.setField("firstName",e)}get middleName(){return this.getField("middleName")}set middleName(e){this.setField("middleName",e)}get lastName(){return this.getField("lastName")}set lastName(e){this.setField("lastName",e)}get birthday(){const e=this.getField("birthday")||null;return e?new Date(e):e}set birthday(e){this.setField("birthday",(e||new Date).toJSON())}get country(){return this.getField("country")}set country(e){this.setField("country",e)}get bandManager(){return!0===this.getField("bandManager")}set bandManager(e){this.setField("bandManager",e)}get venueManager(){return!0===this.getField("venueManager")}set venueManager(e){this.setField("venueManager",e)}get betaFeatureUser(){return!0===this.getField("betaFeatureUser")}set betaFeatureUser(e){this.setField("betaFeatureUser",e)}get sendAnonymousReports(){return!0===this.getField("sendAnonymousReports")}set sendAnonymousReports(e){this.setField("sendAnonymousReports",e)}get sendErrorReports(){return!0===this.getField("sendErrorReports")}set sendErrorReports(e){this.setField("sendErrorReports",e)}get sendEmails(){return!0===this.getField("sendEmails")}set sendEmails(e){this.setField("sendEmails",e)}get sendPromotions(){return!0===this.getField("sendPromotions")}set sendPromotions(e){this.setField("sendPromotions",e)}get useCookies(){return!0===this.getField("useCookies")}set useCookies(e){this.setField("useCookies",e)}get fullName(){return`${this.firstName||""} ${this.middleName||""} ${this.lastName||""}`}get email(){return this.getField("email")}set email(e){this.setField("email",e)}get salt(){return this.getField("salt")}get hash(){return this.getField("hash")}get facebook(){return this.getField("facebook")}set facebook(e){this.setField("facebook",e)}get twitter(){return this.getField("twitter")}set twitter(e){this.setField("twitter",e)}get description(){return this.getField("description")}set description(e){this.setField("description",e)}get emailVerified(){return this.getField("emailVerified")}set emailVerified(e){this.setField("emailVerified",e)}get attempts(){return this.getField("attempts")}get lastLoginIP(){return this.getField("lastLoginIP")}set lastLoginIP(e){this.setField("lastLoginIP",e)}get lastLogin(){const e=this.getField("lastLogin")||null;return e?new Date(e):e}set lastLogin(e){this.setField("lastLogin",(e||new Date).toJSON())}get canContact(){return!0===this.getField("canContact")}set canContact(e){this.setField("canContact",e)}get canFind(){return!0===this.getField("canFind")}set canFind(e){this.setField("canFind",e)}get options(){return this.getField("options")}set options(e){this.setField("options",e)}static verifyEmail(e,t){return r.default.call("GET","/API/User/Verify",{id:e,secret:t})}static sendEmailVerification(){return r.default.call("POST","/API/User/Verify",null)}static getAllConversations(){return g.default.findManyBase(a.default,null,!0)}static getAllNotifications(){return g.default.findManyBase(u.default,null,!0)}static getAllPosts(){return g.default.findManyBase(f.default,null,!0)}static getAllBands(){return g.default.findManyBase(n.default,null,!0)}static getAllVenues(){return g.default.findManyBase(m.default,null,!0)}static getAllGigs(){return g.default.findManyBase(d.default,null,!0)}static getAllUploads(){return g.default.findManyBase(p.default,null,!0)}static findFacebookPages(e){return new Promise((t,i)=>{""===e?t():r.default.call("GET","/API/FacebookAccount/FindPages",{term:e}).then(t,i)})}static search(e,t=null,i=0,s=Number.POSITIVE_INFINITY){return new Promise((a,o)=>{if(""===e||void 0===e)a();else{const d={limit:void 0,model:void 0,q:void 0,skip:void 0};d.q=e,null!==t&&"Any"!==t&&(d.model=t),Number.isFinite(Number(i))&&(d.skip=Number(i)),Number.isFinite(Number(s))&&(d.limit=Number(s));const u=e=>{const t=e.query,i=e.totalFound;t||o(t);const s=[],r=[],d=[],u=[],f=[],g=[];t.forEach(async e=>{if(e&&e.ModelName){const t=e.ModelName;"Band"===t?s.push(new n.default(e)):"Venue"===t?r.push(new m.default(e)):"User"===t?d.push(new w(e)):"Page"===t?u.push(new c.default(e)):"Location"===t?f.push(new l.default(e)):"Upload"===t&&g.push(new p.default(e))}}),a({bands:s,locations:f,pages:u,totalFound:i,uploads:g,users:d,venues:r})};r.default.useSocketIO&&r.default.ShouldUseSocketIO?r.default.getSocket().then(e=>{e&&e.emit("/API/TextSearch",d,u)},o):r.default.call("GET","/API/TextSearch",d).then(u,o)}})}static findMany(e){return g.default.findManyBase(w,e,!0)}static findOne(e){return g.default.findOneBase(w,e,!0)}static onChange(e){const t=Date.now();return w.Callbacks.set(t,e),()=>{w.Callbacks.delete(t)}}static async setUser(e){try{"object"==typeof e&&e?(w.Current=new w(e),r.default.SessionStorageSupported&&sessionStorage.setItem("user",JSON.stringify(e)),w.Callbacks.forEach(e=>e(w.Current))):(w.Current=null,r.default.token=null,r.default.SessionStorageSupported&&sessionStorage.removeItem("user"),w.Callbacks.forEach(e=>e(null)))}catch(e){console.error(e)}return w.Current}static async getUser(e){let t=null;const i=new Date;if(!e&&r.default.expires&&i<r.default.expires){if(null!==w.Current)return w.Current;if(r.default.SessionStorageSupported&&(t=JSON.parse(sessionStorage.getItem("user")||"")))return w.setUser(t)}return(t=r.default.useSocketIO&&r.default.ShouldUseSocketIO?await new Promise((e,t)=>{r.default.getSocket().then(t=>{t&&t.emit("/API/User/Retreive",e)},t)}):await r.default.call("GET","/API/User",null))?w.setUser(t):w.setUser(null)}static findById(e){return g.default.findByIdBase(w,e,!0)}static connectFacebook(){window.location.href=`${r.default.rootURL}/API/Auth/Facebook`}static facebookLogIn(){window.location.href=`${r.default.rootURL}/API/Login/Facebook`}static payPalLogIn(){window.location.href=`${r.default.rootURL}/API/Auth/PayPal`}static async userLogIn(e,t){if(e){if(t){let i=null;if((i=r.default.useSocketIO&&r.default.ShouldUseSocketIO?await new Promise((i,s)=>{r.default.getSocket().then(s=>{s&&s.emit("/API/User/SignIn",{email:e,password:t},i)},s)}):await r.default.call("POST","/API/User/SignIn",{email:e,password:t}))&&i.user&&i.token)return r.default.expires=i.expires,r.default.token=i.token.toString(),w.setUser(i.user);throw new Error("Unauthorized")}throw new Error("No password")}throw new Error("No email")}static async userLogOut(){let e=null;e=r.default.useSocketIO&&r.default.ShouldUseSocketIO?await new Promise((e,t)=>{r.default.getSocket().then(t=>{t&&t.emit("/API/User/SignOut",null,e)},t)}):await r.default.call("POST","/API/User/SignOut",null);const t=await w.setUser(null);if(t&&t.valid())throw new Error(`${JSON.stringify(t)} returned, failed to log out?`);return t}static sendPasswordResetEmail(e){return r.default.call("POST","/User/Reset",{email:e})}static registerUser(e){return new Promise((t,i)=>{if(!e||"object"!=typeof e)return i(new Error("User data is not an object"));if(!e.email)return i(new Error("Email is required"));if(0!==new RegExp(['^(([^<>()[].,;:s@"]+','(.[^<>()[].,;:s@"]+)*)|(".+"))','@(([^<>()[].,;:s@"]+.)+','[^<>()[].,;:s@"]{2,})$'].join(""),"i")[Symbol.search](e.email))return i(new Error("Invalid email address"));if(!e.password)return i(new Error("Password is required"));{const t=/[^a-zA-Z0-9]/gu,s=/[0-9]/g,r=e.password.toLowerCase();if(""===e.password)return i(new Error("Password is required"));if(e.password.length<8)return i(new Error("Password is too short"));if(e.password.length>256)return i(new Error("Password is too long"));if(!t.test(e.password))return i(new Error("Password does not contain at least one symbol"));if(!s.test(e.password))return i(new Error("Password does not contain at least one number"));if(e.firstName&&0!==e.firstName.length&&-1!==r.indexOf(e.firstName.toLowerCase()))return i(new Error("Password can not contain your first name"));if(e.lastName&&0!==e.lastName.length&&-1!==r.indexOf(e.lastName.toLowerCase()))return i(new Error("Password can not contain your last name"))}return e.firstName?0===e.firstName.length?i(new Error("First name is required")):e.firstName[0]===e.firstName[0].toLowerCase()?i(new Error("First name is not title case")):e.lastName?0===e.lastName.length?i(new Error("Last name is required")):e.lastName[0]===e.lastName[0].toLowerCase()?i(new Error("Last name is not title case")):r.default.useSocketIO&&r.default.ShouldUseSocketIO?new Promise((t,i)=>{r.default.getSocket().then(i=>{i&&i.emit("/API/User/Create",e,t)},i)}):r.default.call("POST","/API/User",e).then(e=>{e?w.setUser(e).then(e=>{t(e)},i):i(new Error(`${JSON.stringify(e)} returned`))},i):i(new Error("Last name is required")):i(new Error("First name is required"))})}static NotifyAdminsOfError(){console.error("Not implemented yet.")}getIcon(){return g.default.findByIdBase(p.default,this.icon||"",!0)}getTwitterAccount(){return g.default.findByIdBase(h.default,this.twitter||"")}getFacebookAccount(){return g.default.findByIdBase(o.default,this.facebook||"")}validatePassword(e){const t=e||"",i=t.toLowerCase(),s=this.firstName?this.firstName.toLowerCase():"",r=this.lastName?this.lastName.toLowerCase():"";return""===t?new Error("Password missing"):t.length<8?new Error("Password is too short"):t.length>256?new Error("Password is too long"):/\d/.test(t)?/\W/.test(t)?-1!==i.indexOf(s)?new Error("Password cannot contain your first name"):-1!==i.indexOf(r)?new Error("Password cannot contain your last name"):null:new Error("Password does not have atleast one symbol"):new Error("Password does not have atleast one number")}isValid(){return!!super.isValid()&&("string"==typeof this.firstName&&("string"==typeof this.lastName&&("string"==typeof this.email&&(""!==this.firstName&&(""!==this.lastName&&""!==this.email)))))}valid(){if(super.valid(),"string"!=typeof this.firstName)throw new Error(`Invalid firstName: ${this.firstName}`);if("string"!=typeof this.lastName)throw new Error(`Invalid lastName: ${this.lastName}`);if(""===this.firstName)throw new Error("Blank firstName");if(""===this.lastName)throw new Error("Blank lastName");return!0}save(){return super.save(!0)}remove(){return super.remove(!0)}}w.ModelName="User",w.Current=null,w.Callbacks=new Map,w.agreement=null,w.EmailRegex=new RegExp(['^(([^<>()[].,;:s@"]+','(.[^<>()[].,;:s@"]+)*)|(".+"))','@(([^<>()[].,;:s@"]+.)+','[^<>()[].,;:s@"]{2,})$'].join(""),"i"),t.default=w},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(0)),a=s(i(3));class o extends n.default{get userId(){return this.getField("userId")}set userId(e){this.setField("userId",e)}get accountId(){return this.getField("accountId")}set accountId(e){this.setField("accountId",e)}get userAccessToken(){return this.getField("userAccessToken")}set userAccessToken(e){this.setField("userAccessToken",e)}get userRefreshToken(){return this.getField("userRefreshToken")}set userRefreshToken(e){this.setField("userRefreshToken",e)}get profile(){return this.getField("profile")}static findOne(e){return n.default.findOneBase(o,e,!0)}static findMany(e){return n.default.findManyBase(o,e,!0)}static findById(e){return new Promise((t,i)=>{"string"==typeof e&&""!==e?r.default.call("GET",`/API/FacebookAccount/${e}`,null).then(e=>{const s=e||null;s?t(new o(s)):i(new Error(`${s} returned`))},i):t()})}static findPage(e){return new Promise((t,i)=>{"string"!=typeof e?i(new Error("pageName is not a string!")):r.default.call("GET","/API/Facebook/Page/Find",{name:e}).then(t,i)})}static PostToPage(e,t,i,s){return new Promise((n,a)=>{r.default.call("POST","/API/Facebook/Page/Post",{fb_page_id:i,post_format:e,post_text:t,publish_time:s}).then(n,a)})}getUser(){return n.default.findByIdBase(a.default,this.userId,!0)}userIsOwner(e){return"string"==typeof e?e===this.userId:!("object"!=typeof e||!e)&&e._id===this.userId}isValid(){return!!super.isValid()&&(!(!this.userId||"string"!=typeof this.userId)&&(!(!this.profile||"object"!=typeof this.profile)&&!(!this.accountId||"string"!=typeof this.accountId)))}}o.ModelName="FacebookAccount",t.default=o},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(9)),a=s(i(6)),o=s(i(0)),d=s(i(10));class l extends o.default{get startTime(){const e=this.getField("startTime");return e?new Date(e):e}set startTime(e){this.setField("startTime",e)}get stopTime(){const e=this.getField("stopTime");return e?new Date(e):e}set stopTime(e){this.setField("stopTime",e.toJSON())}get location(){return this.getField("location")}set location(e){this.setField("location",e)}get venue(){return this.getField("venue")}set venue(e){this.setField("venue",e)}get bands(){return this.getField("bands")}set bands(e){this.setField("bands",e)}get active(){return this.getField("active")}get toBeAnnounced(){return this.getField("toBeAnnounced")}set toBeAnnounced(e){this.setField("toBeAnnounced",e)}get bandOwnersAccepted(){return this.getField("bandOwnersAccepted")}set bandOwnersAccepted(e){this.setField("bandOwnersAccepted",e)}get venueOwnerAccepted(){return this.getField("venueOwnerAccepted")}set venueOwnerAccepted(e){this.setField("venueOwnerAccepted",e)}get owners(){return this.getField("owners")}set owners(e){this.setField("owners",e)}static findById(e){return o.default.findByIdBase(l,e,!0)}static async findByBand(e){const t=await r.default.call("GET",`/API/Band/${e}/Gigs`,null);if(t&&Array.isArray(t))return t.map(e=>{const t=new l(e);return o.default.Cache.set(t._id,t),t});throw new Error(`Expected Array, got ${t}`)}static async findByVenue(e){const t=await r.default.call("GET",`/API/Venue/${e}/Gigs`,null);if(t&&Array.isArray(t))return t.map(e=>{const t=new l(e);return o.default.Cache.set(t._id,t),t});throw new Error(`Expected Array, got ${t}`)}static getAllOwned(){return o.default.findManyBase(l,null,!0)}static findMany(e){return o.default.findManyBase(l,e,!0)}static createGigs(e){return new Promise((t,i)=>{const s=e||{};if(s&&"object"==typeof s){if(!s.band||""===s.band)return i(new Error("Band is required"));if(!s.venue||""===s.venue)return i(new Error("Venue is required"));if(!s.times||0===s.times.length)return i(new Error("Times is required"));const e=s.times.filter((e,t)=>{if(e.dayDate&&e.startTime&&e.stopTime){const i=new Date(e.dayDate),r=new Date(e.startTime);r.setFullYear(i.getFullYear()),r.setMonth(i.getMonth()),r.setDate(i.getDay());const n=new Date(e.stopTime);return n.setFullYear(i.getFullYear()),n.setMonth(i.getMonth()),n.setDate(i.getDay()),s.times[t]={startTime:e.startTime,stopTime:e.stopTime},!0}return!(!e.startTime||!e.stopTime)&&(s.times[t]={startTime:e.startTime,stopTime:e.stopTime},!0)});return e.length!==s.times.length?i(new Error("Not all times were valid")):(s.times=e,r.default.call("POST","/API/Gig",s).then(e=>{let i=[];i=Array.from(e||[]).map(e=>{return new l(e)}),t(i)},i))}return null})}static getAllInDistance(e,t){return new Promise((i,s)=>"object"!=typeof e?s(new Error("location is not a object!")):"number"!=typeof e.lat||"number"!=typeof e.lng?s(new Error("location does not contain lat or lng!")):"number"!=typeof t?s(new Error("radius is not a number!")):r.default.call("GET","/API/Gig/InDistance",{dis:t,lat:e.lat,lng:e.lng}).then(e=>{i(Array.from(e).map(e=>{return new l(e)}))},s))}getBands(){return o.default.findManyBase(n.default,{_id:this.bands},!0)}getVenue(){return o.default.findByIdBase(d.default,this.venue,!0)}getLocation(){return o.default.findByIdBase(a.default,this.location,!0)}isValid(){return!!super.isValid()&&(!!Array.isArray(this.owners)&&0!==this.owners.length)}userIsOwner(e){if(Array.isArray(this.owners)){let t;return"string"==typeof e?t=e:"object"==typeof e&&e&&(t=e._id),void 0!==this.owners.find(e=>e===t)}return!1}}l.ModelName="Gig",t.default=l},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(12)),a=s(i(0));class o extends a.default{get type(){return this.getField("type")||"Point"}set type(e){this.setField("type",e)}get placeId(){return this.getField("placeId")}set placeId(e){this.setField("placeId",e)}get address(){return this.getField("address")}set address(e){this.setField("address",e)}get point(){return this.getField("point")}set point(e){this.setField("point",e)}get utcOffset(){return this.getField("utcOffset")}set utcOffset(e){this.setField("utcOffset",e)}static getLocationByPlaceId(e){return new Promise((t,i)=>{e?r.default.call("GET",`/API/Place/${e}`,null).then(e=>{e?t(new o(e)):i(new Error(`${e} returned`))},i):i(new Error(`Invaild placeId: ${e}`))})}static findById(e){return a.default.findByIdBase(o,e)}static findOne(e){return a.default.findOneBase(o,e)}static findMany(e){return a.default.findManyBase(o,e,!1)}isValid(){return!!super.isValid()&&(!!this.placeId&&(!!this.address&&(!!this.utcOffset&&!!Array.isArray(this.point))))}getPlaceDetails(){return n.default.getPlaceDetails(this.placeId)}}o.ModelName="Location",t.default=o},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(0)),a=s(i(3));class o extends n.default{get userId(){return this.getField("userId")}set userId(e){this.setField("userId",e)}get accessToken(){return this.getField("accessToken")}set accessToken(e){this.setField("accessToken",e)}get tokenSecret(){return this.getField("tokenSecret")}set tokenSecret(e){this.setField("tokenSecret",e)}get profile(){return this.getField("profile")}set profile(e){this.setField("profile",e)}get accountId(){return this.getField("accountId")}set accountId(e){this.setField("accountId",e)}static findOne(e){return n.default.findOneBase(o,e,!0)}static findMany(e){return n.default.findManyBase(o,e,!0)}static findById(e){return new Promise((t,i)=>{"string"==typeof e&&""!==e?r.default.call("GET",`/API/TwitterAccount/${e}`,null).then(e=>{const s=e||null;s?t(new o(s)):i(new Error(`${s} returned`))},i):t()})}getUser(){return n.default.findByIdBase(a.default,this.userId,!0)}userIsOwner(e){return"string"==typeof e?e===this.userId:"function"==typeof e&&e._id===this.userId}goToTwitterAccount(){"undefined"!=typeof window&&(window.location.href=`https://twitter.com?profile_id=${this.accountId}`)}isValid(){return!!super.isValid()&&(!(!this.userId||"string"!=typeof this.userId)&&!(!this.profile||"object"!=typeof this.profile))}}o.ModelName="TwitterAccount",t.default=o},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(0)),n=s(i(3));class a extends r.default{get fileName(){return this.getField("fileName")}set fileName(e){this.setField("fileName",e)}get fileData(){return this.getField("fileData")}set fileData(e){this.setField("fileData",e)}get title(){return this.getField("title")}set title(e){this.setField("title",e)}get description(){return this.getField("description")}set description(e){this.setField("description",e)}get owners(){return this.getField("owners")}set owners(e){this.setField("owners",e)}static async uploadFile(e,t){let i=new a({fileData:e,fileName:t});return i=await i.save(!0)}static findById(e){return r.default.findByIdBase(a,e)}static findMany(e){return r.default.findManyBase(a,e,!0)}static findOne(e){return r.default.findOneBase(a,e)}static getAllOwned(){return r.default.findManyBase(a,null,!0)}getOwners(){const e=Array.from(this.owners);return 0!==e.length?r.default.findManyBase(n.default,{_id:e},!0):Promise.resolve([])}userIsOwner(e){if(Array.isArray(this.owners)){let t;return"string"==typeof e?t=e:"object"==typeof e&&e&&(t=e._id),void 0!==this.owners.find(e=>e===t)}return!1}isValid(){return!!super.isValid()&&(!!this.title&&(!!this.description&&(!!this.fileData&&(!!this.fileName&&(!!Array.isArray(this.owners)&&0!==this.owners.length)))))}}a.ModelName="Upload",t.default=a},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(4)),n=s(i(5)),a=s(i(0)),o=s(i(7)),d=s(i(8)),l=s(i(3));class u extends a.default{get name(){return this.getField("name")}set name(e){this.setField("name",e)}get website(){return this.getField("website")}set website(e){this.setField("website",e)}get email(){return this.getField("email")}set email(e){this.setField("email",e)}get cityName(){return this.getField("cityName")}set cityName(e){this.setField("cityName",e)}get cityPlaceID(){return this.getField("cityPlaceID")}set cityPlaceID(e){this.setField("cityPlaceID",e)}get description(){return this.getField("description")}set description(e){this.setField("description",e)}get metadata(){return this.getField("metadata")}set metadata(e){this.setField("metadata",e)}get icon(){return this.getField("icon")}set icon(e){this.setField("icon",e)}get photos(){return this.getField("photos")}set photos(e){this.setField("photos",e)}get owners(){return this.getField("owners")}set owners(e){this.setField("owners",e)}get facebook(){return this.getField("facebook")}set facebook(e){this.setField("facebook",e)}get facebookPageId(){return this.getField("facebookPageId")}set facebookPageId(e){this.setField("facebookPageId",e)}get facebookPageName(){return this.getField("facebookPageName")}set facebookPageName(e){this.setField("facebookPageName",e)}get facebookPageToken(){return this.getField("facebookPageToken")}set facebookPageToken(e){this.setField("facebookPageToken",e)}get twitter(){return this.getField("twitter")}set twitter(e){this.setField("twitter",e)}get google(){return this.getField("google")}set google(e){this.setField("google",e)}static findOne(e){return a.default.findOneBase(u,e,!0)}static findMany(e){return a.default.findManyBase(u,e,!0)}static findById(e){return a.default.findByIdBase(u,e,!0)}static getAllOwned(){return a.default.findManyBase(u,null,!0)}save(){return super.save(!0)}remove(){return super.remove(!0)}getIcon(){return this.icon?a.default.findByIdBase(d.default,this.icon,!0):Promise.resolve(null)}getPhotos(){const e=Array.from(this.photos);return 0!==e.length?a.default.findManyBase(d.default,{_id:e},!0):Promise.resolve([])}getOwners(){const e=Array.from(this.owners);return 0!==e.length?a.default.findManyBase(l.default,{_id:e},!0):Promise.resolve([])}getGigs(){return n.default.findByBand(this._id||"")}getTwitterAccount(){return this.twitter?a.default.findByIdBase(o.default,this.twitter,!0):Promise.resolve(null)}getFacebookAccount(){return this.facebook?a.default.findByIdBase(r.default,this.facebook,!0):Promise.resolve(null)}isValid(){const e=this;return!!super.isValid()&&("string"==typeof this.cityPlaceID&&(""!==this.cityPlaceID&&("string"==typeof this.name&&(""!==this.name&&("string"==typeof this.description&&(""!==this.description&&("<p><br></p>"!==this.description&&(!!Array.isArray(this.owners)&&(0!==this.owners.length&&!!this.owners.every(t=>e.userIsOwner(t)))))))))))}userIsOwner(e){if(Array.isArray(this.owners)){let t;return"string"==typeof e?t=e:"object"==typeof e&&e&&(t=e._id),void 0!==this.owners.find(e=>e===t)}return!1}}u.ModelName="Band",t.default=u},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(4)),n=s(i(5)),a=s(i(6)),o=s(i(0)),d=s(i(7)),l=s(i(8)),u=s(i(3));class c extends o.default{get name(){return this.getField("name")}set name(e){this.setField("name",e)}get description(){return this.getField("description")}set description(e){this.setField("description",e)}get email(){return this.getField("email")}set email(e){this.setField("email",e)}get website(){return this.getField("website")}set website(e){this.setField("website",e)}get phone(){return this.getField("phone")}set phone(e){this.setField("phone",e)}get location(){return this.getField("location")}set location(e){this.setField("location",e)}get openCloseTimes(){return this.getField("openCloseTimes")}set openCloseTimes(e){this.setField("openCloseTimes",e)}get icon(){return this.getField("icon")}set icon(e){this.setField("icon",e)}get photos(){return this.getField("photos")}set photos(e){this.setField("photos",e)}get owners(){return this.getField("owners")}set owners(e){this.setField("owners",e)}get facebook(){return this.getField("facebook")}set facebook(e){this.setField("facebook",e)}get facebookPageId(){return this.getField("facebookPageId")}set facebookPageId(e){this.setField("facebookPageId",e)}get facebookPageName(){return this.getField("facebookPageName")}set facebookPageName(e){this.setField("facebookPageName",e)}get facebookPageToken(){return this.getField("facebookPageToken")}set facebookPageToken(e){this.setField("facebookPageToken",e)}get twitter(){return this.getField("twitter")}set twitter(e){this.setField("twitter",e)}get google(){return this.getField("google")}set google(e){this.setField("google",e)}static findOne(e){return o.default.findOneBase(c,e,!0)}static findMany(e){return o.default.findManyBase(c,e,!0)}static findById(e){return o.default.findByIdBase(c,e,!0)}static getAllOwned(){return o.default.findManyBase(c,null,!0)}save(){return super.save(!0)}remove(){return super.remove(!0)}getIcon(){return o.default.findByIdBase(l.default,this.icon||"",!0)}getPhotos(){const e=Array.from(this.photos);return 0!==e.length?o.default.findManyBase(l.default,{_id:e},!0):Promise.resolve([])}getOwners(){const e=Array.from(this.owners);return 0!==e.length?o.default.findManyBase(u.default,{_id:e},!0):Promise.resolve([])}getGigs(){return n.default.findByVenue(this._id||"")}getTwitterAccount(){return o.default.findByIdBase(d.default,this.twitter||"",!0)}getFacebookAccount(){return o.default.findByIdBase(r.default,this.facebook||"",!0)}getLocation(){return o.default.findByIdBase(a.default,this.location||"",!0)}isValid(){const e=this;return!!super.isValid()&&(!!o.default.isValidId(this.location)&&(""!==this.location&&("string"==typeof this.name&&(""!==this.name&&("string"==typeof this.description&&(""!==this.description&&("<p><br></p>"!==this.description&&(!!Array.isArray(this.owners)&&(0!==this.owners.length&&!!this.owners.every(t=>e.userIsOwner(t)))))))))))}userIsOwner(e){if(Array.isArray(this.owners)){let t;return"string"==typeof e?t=e:"object"==typeof e&&e&&(t=e._id),void 0!==this.owners.find(e=>e===t)}return!1}}c.ModelName="Venue",t.default=c},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(0));class a extends n.default{get events(){return this.getField("events")||[]}set events(e){this.setField("events",e)}get users(){return this.getField("users")||[]}set users(e){this.setField("users",e)}static newCallback(e){const t=Date.now();return a.Callbacks.set(t,e),()=>a.Callbacks.delete(t)}static connectSocket(){r.default.getSocket().then(e=>{e&&e.on("/API/Conversation/Update",e=>{if(e){let t=n.default.CacheGet(e._id);t?Object.assign(t,e):t=new a(e),n.default.Cache.set(t._id,t),a.Callbacks.forEach(e=>e(t))}})},console.error)}static findById(e){return n.default.findByIdBase(a,e,!0)}static findOne(e){return n.default.findOneBase(a,e)}static findMany(e){return n.default.findManyBase(a,e,!1)}static getAllOwned(){return n.default.findManyBase(a,null,!0)}isValid(){return!!super.isValid()}pushMessage(e,t){return this.events.push({dateTimePosted:new Date,message:t,user:e}),this.save()}}a.ModelName="Conversation",a.Callbacks=new Map,t.default=a},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(0));class a extends n.default{get placeId(){return this.getField("placeId")||this.getField("place_id")}set placeId(e){this.setField("placeId",e)}get details(){return this.getField("details")}set details(e){this.setField("details",e)}get description(){return this.getField("description")}set description(e){this.setField("description",e)}static findById(e){return n.default.findByIdBase(a,e)}static findOne(e){return n.default.findOneBase(a,e)}static findMany(e){return n.default.findManyBase(a,e,!1)}static getPlaceDetails(e){return new Promise((t,i)=>"string"!=typeof e?i(new Error("placeId is not a string!")):r.default.call("GET","/API/GooglePlace",{placeId:e}).then(t,i))}static queryPlace(e,t){return new Promise((i,s)=>{const n=t||"locality";return"string"!=typeof e?s(new Error("text is not a string!")):0===e.length?s(new Error("text is blank")):r.default.call("GET","/API/GooglePlace/Query",{term:e,type:n}).then(i,s)})}}a.ModelName="GooglePlace",t.default=a},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(0));class a extends n.default{constructor(){super(...arguments),this.changeCallbacks=new Map}get userId(){return this.getField("userId")}set userId(e){this.setField("userId",e)}get label(){return this.getField("label")}set label(e){this.setField("label",e)}get message(){return this.getField("message")}set message(e){this.setField("message",e)}get actions(){return this.getField("actions")}set actions(e){this.setField("actions",e)}get seenByUser(){return this.getField("seenByUser")}set seenByUser(e){this.setField("seenByUser",e)}static onNewNotification(e){a.Callbacks.forEach(t=>t(e))}static newCallback(e){const t=Date.now();return a.Callbacks.set(t,e),()=>a.Callbacks.delete(t)}static async getNewNotifications(){if(null!==r.default.token){const e=await r.default.call("GET","/API/Notification",{returnNew:!0});return Array.from(e).map(e=>new a(e))}return[]}static getAllOwned(){return n.default.findManyBase("Notification",null,!0)}static findById(e){return n.default.findByIdBase("Notification",e,!0)}static connectSocket(){r.default.getSocket().then(e=>{e&&e.on("notification",e=>a.onNewNotification(new a(e)))},console.error)}static setUpPushNotifications(){const e="undefined"!=typeof window&&void 0!==window.Notification,t=e?window.Notification:null;if(e){const e=e=>{"granted"===e&&a.onNewNotification(e=>new t(e.label,{body:e.message,data:e,icon:"/LogoSmall.png",timestamp:e.dateCreated}))};"granted"===t.permission?e(t.permission):t.requestPermission(e)}}newChangeCallback(e){const t=Date.now();return this.changeCallbacks.set(t,e),()=>{this.changeCallbacks.delete(t)}}}a.ModelName="Notification",a.Callbacks=new Map,t.default=a},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(0));class a extends n.default{get data(){return this.getField("data")}set data(e){this.setField("data",e)}get metadata(){return this.getField("metadata")}set metadata(e){this.setField("metadata",e)}get title(){return this.getField("title")}set title(e){this.setField("title",e)}get link(){return this.getField("link")}set link(e){this.setField("link",e)}get visits(){return this.getField("visits")||0}set visits(e){this.setField("visits",e)}get revisions(){return this.getField("revisions")||0}set revisions(e){this.setField("revisions",e)}get hide(){const e=this.getField("hide");return null===e||Boolean(e)}set hide(e){this.setField("hide",e)}get blog(){const e=this.getField("blog");return Boolean(e)}set blog(e){this.setField("blog",e)}get doc(){const e=this.getField("doc");return Boolean(e)}set doc(e){this.setField("doc",e)}get admin(){return this.getField("admin")}set admin(e){this.setField("admin",e)}static findMany(e,t,i){return e&&(e.skip=e.skip||t,e.limit=e.limit||i),n.default.findManyBase(a,e)}static findOne(e){return n.default.findOneBase(a,e)}static findById(e){return n.default.findByIdBase(a,e)}static findByLink(e){return new Promise((t,i)=>{r.default.call("GET",`/API/Link/${e}`,null).then(e=>{t(new a(e))},i)})}isValid(){return!!super.isValid()&&(!!this.title&&""!==this.title)}userIsOwner(e){return"string"==typeof e?e===this.admin:!("function"!=typeof e||!e||!e.isValid())&&(e._id===this.admin||e.admin)}}a.ModelName="Page",t.default=a},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(0));class n extends r.default{get userId(){return this.getField("userId")}set userId(e){this.setField("userId",e)}get network(){return this.getField("network")}set network(e){this.setField("network",e)}get accountId(){return this.getField("accountId")}set accountId(e){this.setField("accountId",e)}get pageId(){return this.getField("pageId")}set pageId(e){this.setField("pageId",e)}get postText(){return this.getField("postText")}set postText(e){this.setField("postText",e)}get postDate(){return this.getField("postDate")}set postDate(e){this.setField("postDate",e)}get coordinates(){return this.getField("coordinates")}set coordinates(e){this.setField("coordinates",e)}get error(){return this.getField("error")}set error(e){this.setField("error",e)}get done(){return this.getField("done")}set done(e){this.setField("done",e)}static findById(e){return r.default.findByIdBase(n,e)}static findOne(e){return r.default.findOneBase(n,e)}static getAllOwned(){return r.default.findManyBase(n,null)}static findMany(e){return r.default.findManyBase(n,e)}isValid(){return!!super.isValid()}canSave(){return!!this.postDate&&(!(!this.postText||""===this.postText)&&!!this.network)}userIsOwner(e){return"string"==typeof e?e===this.userId:!("function"!=typeof e||!e||!e.isValid())&&e._id===this.userId}}n.ModelName="Post",t.default=n},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e){switch(e){case"Band":return(await Promise.resolve().then(()=>s(i(9)))).default;case"Conversation":return(await Promise.resolve().then(()=>s(i(11)))).default;case"ErrorReport":return(await Promise.resolve().then(()=>s(i(17)))).default;case"FacebookAccount":return(await Promise.resolve().then(()=>s(i(4)))).default;case"Gig":return(await Promise.resolve().then(()=>s(i(5)))).default;case"GooglePlace":return(await Promise.resolve().then(()=>s(i(12)))).default;case"Location":return(await Promise.resolve().then(()=>s(i(6)))).default;case"Notification":return(await Promise.resolve().then(()=>s(i(13)))).default;case"Page":return(await Promise.resolve().then(()=>s(i(14)))).default;case"Post":return(await Promise.resolve().then(()=>s(i(15)))).default;case"Request":return(await Promise.resolve().then(()=>s(i(18)))).default;case"TwitterAccount":return(await Promise.resolve().then(()=>s(i(7)))).default;case"Upload":return(await Promise.resolve().then(()=>s(i(8)))).default;case"User":return(await Promise.resolve().then(()=>s(i(3)))).default;case"Venue":return(await Promise.resolve().then(()=>s(i(10)))).default;default:return Promise.resolve(null)}}},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(0));class n extends r.default{get version(){return this.getField("version")}set version(e){this.setField("version",e)}get userId(){return this.getField("userId")}set userId(e){this.setField("userId",e)}get stack(){return this.getField("stack")}set stack(e){this.setField("stack",e)}get message(){return this.getField("message")}set message(e){this.setField("message",e)}get name(){return this.getField("name")}set name(e){this.setField("name",e)}get fileName(){return this.getField("fileName")}set fileName(e){this.setField("fileName",e)}get columnNumber(){return this.getField("columnNumber")}set columnNumber(e){this.setField("columnNumber",e)}get lineNumber(){return this.getField("lineNumber")}set lineNumber(e){this.setField("lineNumber",e)}static findById(e){return r.default.findByIdBase(n,e)}static findOne(e){return r.default.findOneBase(n,e)}static findMany(e){return r.default.findManyBase(n,e)}isValid(){return!!super.isValid()}}n.ModelName="ErrorReport",t.default=n},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(2)),n=s(i(0));class a extends n.default{get to(){return this.getField("to")}set to(e){this.setField("to",e)}get from(){return this.getField("from")}set from(e){this.setField("from",e)}get status(){return this.getField("status")}set status(e){this.setField("status",e)}get options(){return this.getField("options")}set options(e){this.setField("options",e)}get type(){return this.getField("type")}set type(e){this.setField("type",e)}get userData(){return this.getField("userData")}set userData(e){this.setField("userData",e)}get emailSent(){return this.getField("emailSent")}set emailSent(e){this.setField("emailSent",e)}static createBandOwnershipRequest(e,t,i){return new Promise((s,n)=>{r.default.call("POST","/API/Request",{from:t,to:i,type:"BandOwnership",userData:{bandId:e}}).then(e=>{s(new a(e))},n)})}static createVenueOwnershipRequest(e,t,i){return new Promise((s,n)=>{r.default.call("POST","/API/Request",{from:t,to:i,type:"VenueOwnership",userData:{venueId:e}}).then(e=>{s(new a(e))},n)})}static createGigNegotiation(e,t,i){return new Promise((s,n)=>{r.default.call("POST","/API/Request",{from:t,to:i,type:"GigNegotiation",userData:{gigId:e}}).then(e=>{s(new a(e))},n)})}static getAllOwned(){return n.default.findManyBase(a,null)}static findById(e){return n.default.findByIdBase(a,e)}async execute(e){const t=await r.default.call("POST",`/API/Request/${this._id}/${e}`,null);return this.assign(t),this}}a.ModelName="Request",t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(20);t.GigGizmoPropTypes=s.default;var r=i(2);t.API=r.default;var n=i(9);t.Band=n.default;var a=i(11);t.Conversation=a.default;var o=i(17);t.ErrorReport=o.default;var d=i(4);t.FacebookAccount=d.default;var l=i(5);t.Gig=l.default;var u=i(12);t.GooglePlace=u.default;var c=i(6);t.Location=c.default;var f=i(13);t.Notification=f.default;var g=i(14);t.Page=g.default;var h=i(15);t.Post=h.default;var p=i(18);t.Request=p.default;var m=i(0);t.RESTModel=m.default;var w=i(7);t.TwitterAccount=w.default;var y=i(8);t.Upload=y.default;var F=i(3);t.User=F.default;var b=i(10);t.Venue=b.default;var _=i(16);t.ModelNameToModel=_.default,"undefined"!=typeof window&&(window.GigGizmoAPI=e.exports)},function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(21)),n=s(i(24)),a=s(i(25)),o=s(i(26)),d=s(i(27)),l=s(i(28)),u=s(i(29)),c=s(i(30)),f=s(i(31)),g=s(i(32)),h=s(i(33)),p=s(i(34)),m=s(i(35));t.default={Band:r.default,Conversation:n.default,ErrorReport:a.default,FacebookAccount:o.default,Gig:d.default,Location:l.default,Notification:u.default,Page:c.default,Post:f.default,TwitterAccount:g.default,Upload:h.default,User:p.default,Venue:m.default}},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,cityName:r.string,cityPlaceID:r.string,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,description:r.string,email:r.string,facebook:r.string,facebookPageId:r.string,facebookPageName:r.string,facebookPageToken:r.string,google:r.string,icon:r.string,metadata:r.string,name:r.string.isRequired,owners:r.arrayOf(r.string),photos:r.arrayOf(r.string),twitter:r.string,website:r.string})},function(e,t,i){"use strict";var s=i(23);function r(){}function n(){}n.resetWarningCache=r,e.exports=function(){function e(e,t,i,r,n,a){if(a!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:r};return i.PropTypes=i,i}},function(e,t,i){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,events:r.arrayOf(r.shape({dateTimePosted:r.string.isRequired,message:r.string.isRequired,user:r.string.isRequired})),users:r.arrayOf(r.string.isRequired)})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,columnNumber:r.number,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,fileName:r.string,lineNumber:r.number,message:r.string.isRequired,name:r.string.isRequired,stack:r.string.isRequired,userId:r.string.isRequired,version:r.string.isRequired})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,accountId:r.string.isRequired,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,profile:r.any,userAccessToken:r.string,userId:r.string.isRequired,userRefreshToken:r.string})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,bandOwnerAccepted:r.string,bands:r.arrayOf(r.string).isRequired,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,location:r.string.isRequired,owners:r.arrayOf(r.string),startTime:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,stopTime:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,toBeAnnounced:r.bool,venue:r.string.isRequired,venueOwnerAccepted:r.string})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,address:r.string.isRequired,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,placeId:r.string.isRequired,point:r.arrayOf(r.number).isRequired,type:r.string.isRequired,utcOffset:r.number.isRequired})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,actions:r.arrayOf(r.shape({label:r.string.isRequired,link:r.string,request:r.string})),dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,label:r.string.isRequired,message:r.string.isRequired,seenByUser:r.bool,userId:r.string.isRequired})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,blog:r.bool,data:r.string,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,doc:r.bool,hide:r.bool,link:r.string,metadata:r.string,revisions:r.number,title:r.string,visits:r.number})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,accountId:r.string.isRequired,coordinates:r.arrayOf(r.number),dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,done:r.bool.isRequired,error:r.any,network:r.string.isRequired,pageId:r.string.isRequired,postDate:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,postText:r.string.isRequired,userId:r.string.isRequired})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,accessToken:r.string,accountId:r.string.isRequired,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,profile:r.any,tokenSecret:r.string,userId:r.string.isRequired})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,description:r.string,fileData:r.string.isRequired,fileName:r.string.isRequired,owners:r.arrayOf(r.string).isRequired,title:r.string.isRequired})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,active:r.bool,admin:r.bool,attempts:r.number,bandManager:r.bool,betaFeatureUser:r.bool,birthday:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,country:r.string.isRequired,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,description:r.string,email:r.string,emailVerified:r.bool,facebook:r.string,firstName:r.string.isRequired,icon:r.string,lastLogin:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,lastLoginIP:r.string.isRequired,lastName:r.string.isRequired,middleName:r.string,payment:r.string,paypal:r.string,sendAnonymousReports:r.bool,sendEmails:r.bool,sendErrorReports:r.bool,sendPromotions:r.bool,twitter:r.string,useCookies:r.bool,venueManager:r.bool})},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(1));t.default=r.shape({_id:r.string.isRequired,dateCreated:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,dateModified:r.oneOfType([r.string,r.instanceOf(Date)]).isRequired,description:r.string.isRequired,email:r.string,facebook:r.string,facebookPageId:r.string,facebookPageName:r.string,facebookPageToken:r.string,google:r.string,icon:r.string,location:r.string.isRequired,metaData:r.string,name:r.string.isRequired,openCloseTimes:r.arrayOf(r.shape({closingTime:r.string,open:r.bool,openingTime:r.string})),owners:r.arrayOf(r.string),phone:r.string,photos:r.arrayOf(r.string),twitter:r.string,website:r.string})},function(e,t){!function(){e.exports=this.axios}()},function(e,t,i){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var i={},r=t||{},a=e.split(n),d=r.decode||s,l=0;l<a.length;l++){var u=a[l],c=u.indexOf("=");if(!(c<0)){var f=u.substr(0,c).trim(),g=u.substr(++c,u.length).trim();'"'==g[0]&&(g=g.slice(1,-1)),null==i[f]&&(i[f]=o(g,d))}}return i},t.serialize=function(e,t,i){var s=i||{},n=s.encode||r;if("function"!=typeof n)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var o=n(t);if(o&&!a.test(o))throw new TypeError("argument val is invalid");var d=e+"="+o;if(null!=s.maxAge){var l=s.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");d+="; Max-Age="+Math.floor(l)}if(s.domain){if(!a.test(s.domain))throw new TypeError("option domain is invalid");d+="; Domain="+s.domain}if(s.path){if(!a.test(s.path))throw new TypeError("option path is invalid");d+="; Path="+s.path}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw new TypeError("option expires is invalid");d+="; Expires="+s.expires.toUTCString()}s.httpOnly&&(d+="; HttpOnly");s.secure&&(d+="; Secure");if(s.sameSite){var u="string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite;switch(u){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return d};var s=decodeURIComponent,r=encodeURIComponent,n=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(t){return e}}},function(e,t){!function(){e.exports=this["socket.io-client"]}()}]));
//# sourceMappingURL=index.js.map